---
const { testimonials } = Astro.props as { testimonials: any[] };
---
<section id="testimonials" class="scroll-mt-16 container-max py-16">
  <h2 class="text-3xl font-bold text-center mb-12 text-gray-900 dark:text-white">Testimonials</h2>
  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
    {testimonials.map((t) => (
      <div class="bg-background-light dark:bg-background-dark p-6 rounded-xl shadow-md">
        <div class="flex items-center gap-4 mb-4">
          {t.avatar && <img src={t.avatar} class="h-12 w-12 rounded-full object-cover" alt="" />}
          <div>
            <p class="font-bold text-gray-900 dark:text-white">{t.name}</p>
            <p class="text-sm text-gray-500 dark:text-gray-400">{new Date(t.date).toLocaleDateString()}</p>
          </div>
        </div>
        <div class="flex text-gold mb-4" aria-label={`${t.rating} out of 5`}>
          {Array.from({ length: 5 }).map((_, i) => (
            <span class="material-symbols-outlined !text-xl" style={`font-variation-settings: 'FILL' ${i < t.rating ? 1 : 0}`}>star</span>
          ))}
        </div>
        <p class="text-gray-600 dark:text-gray-300 italic">{t.quote}</p>
      </div>
    ))}
  </div>
</section>

